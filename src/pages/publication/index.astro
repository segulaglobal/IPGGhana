---
import MainLayout from "../../layouts/MainLayout.astro";
import PubCard from "../../components/PubCard.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

const allArticles: CollectionEntry<"articles">[] = (await getCollection("articles")).sort(
  (a: CollectionEntry<"articles">, b: CollectionEntry<"articles">) =>
    b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<MainLayout title="Africa Policy Lens | Publications">

  <section class="pt-40 pb-48">
    <div class="container wrapper">
      <h2 class="mb-8 text-4xl tracking-tight font-extrabold text-gray-900">
        All Articles
      </h2>
      <!-- Main Grid -->
      <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
        {allArticles.map((article) => <PubCard article={article} />)}
      </div>

      <!-- Pagination -->
      <!-- <div class="flex justify-between mt-10">
                <a href="#" class="inline-block bg-indigo-100 px-3 py-2 hover:bg-indigo-600 hover:text-white rounded-lg">
                  Previous
                </a>
                <a href="#"
                 class="inline-block bg-indigo-100 px-3 py-2 hover:bg-indigo-600 hover:text-white rounded-lg">
                  Next
                </a>
              </div> -->
    </div>
  </section>
</MainLayout>
